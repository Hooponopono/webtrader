{"version":3,"sources":["../../../../src/common/marketUtils.es6"],"names":["getMarketPosition","market_order","forex","indices","commodities","volidx","markets","sort","a","b","getMarketsSubmarkets","active_symbols","reduce","market_result","market_display_name","submarket_display_name","display_name","push","getOrderedMarkets","unsorted_markets","getMarkets","sorted_markets_order","Object","keys","map","market_id","toString","market","includes"],"mappings":";;;;;;AAAA,QAAMA,oBAAqB,YAAM;AAC7B,YAAMC,eAAe;AACjBC,mBAAO,CADU;AAEjBC,qBAAS,CAFQ;AAGjBC,yBAAa,CAHI;AAIjBC,oBAAQ;AAJS,SAArB;;AAOA,eAAO,UAACC,OAAD,EAAa;AAChB,mBAAOA,QAAQC,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,uBAAUR,aAAaO,CAAb,IAAkBP,aAAaQ,CAAb,CAA5B;AAAA,aAAb,CAAP;AACH,SAFD;AAGH,KAXyB,EAA1B;;AAaA,QAAMC,uBAAuB,SAAvBA,oBAAuB,CAACC,cAAD,EAAoB;AAC7C,eAAOA,eAAeC,MAAf,CAAsB,UAACC,aAAD,EAAgBP,OAAhB,EAA4B;AAAA,gBAC7CQ,mBAD6C,GACiBR,OADjB,CAC7CQ,mBAD6C;AAAA,gBACxBC,sBADwB,GACiBT,OADjB,CACxBS,sBADwB;AAAA,gBACAC,YADA,GACiBV,OADjB,CACAU,YADA;;;AAGrDH,0BAAcC,mBAAd,IAAqCD,cAAcC,mBAAd,KAAsC,EAA3E;AACAD,0BAAcC,mBAAd,EAAmCC,sBAAnC,IAA6DF,cAAcC,mBAAd,EAAmCC,sBAAnC,KAA8D,EAA3H;AACAF,0BAAcC,mBAAd,EAAmCC,sBAAnC,EAA2DE,IAA3D,CAAgED,YAAhE;;AAEA,mBAAOH,aAAP;AACH,SARM,EAQJ,EARI,CAAP;AASH,KAVD;;AAYA,QAAMK,oBAAoB,SAApBA,iBAAoB,CAACP,cAAD,EAAoB;AAC1C,YAAMQ,mBAAmBC,WAAWT,cAAX,CAAzB;AACA,YAAMU,uBAAuBrB,kBAAkBsB,OAAOC,IAAP,CAAYJ,gBAAZ,CAAlB,CAA7B;;AAEA,eAAOE,qBAAqBG,GAArB,CAAyB;AAAA,mBAAaL,iBAAiBM,SAAjB,EAA4BC,QAA5B,EAAb;AAAA,SAAzB,CAAP;AACH,KALD;;AAOA,QAAMN,aAAa,SAAbA,UAAa,CAACT,cAAD,EAAoB;AACnC,eAAOA,eAAeC,MAAf,CAAsB,UAACC,aAAD,EAAgBP,OAAhB,EAA4B;AAAA,gBAC7CqB,MAD6C,GACbrB,OADa,CAC7CqB,MAD6C;AAAA,gBACrCb,mBADqC,GACbR,OADa,CACrCQ,mBADqC;;;AAGrDD,0BAAcc,MAAd,IAAwBd,cAAcc,MAAd,KAAyB,EAAjD;AACA,gBAAId,cAAcc,MAAd,EAAsBC,QAAtB,CAA+Bd,mBAA/B,MAAwD,KAA5D,EAAmED,cAAcc,MAAd,EAAsBV,IAAtB,CAA2BH,mBAA3B;;AAEnE,mBAAOD,aAAP;AACH,SAPM,EAOJ,EAPI,CAAP;AAQH,KATD;;YAYIH,oB,GAAAA,oB;YACAQ,iB,GAAAA,iB","file":"marketUtils.js","sourcesContent":["const getMarketPosition = (() => {\n    const market_order = {\n        forex: 1,\n        indices: 2,\n        commodities: 3,\n        volidx: 4,\n    };\n\n    return (markets) => {\n        return markets.sort((a, b) => market_order[a] - market_order[b]);\n    };\n})();\n\nconst getMarketsSubmarkets = (active_symbols) => {\n    return active_symbols.reduce((market_result, markets) => {\n        const { market_display_name, submarket_display_name, display_name } = markets;\n\n        market_result[market_display_name] = market_result[market_display_name] || {};\n        market_result[market_display_name][submarket_display_name] = market_result[market_display_name][submarket_display_name] || [];\n        market_result[market_display_name][submarket_display_name].push(display_name);\n\n        return market_result;\n    }, {});\n};\n\nconst getOrderedMarkets = (active_symbols) => {\n    const unsorted_markets = getMarkets(active_symbols);\n    const sorted_markets_order = getMarketPosition(Object.keys(unsorted_markets));\n\n    return sorted_markets_order.map(market_id => unsorted_markets[market_id].toString());\n};\n\nconst getMarkets = (active_symbols) => {\n    return active_symbols.reduce((market_result, markets) => {\n        const { market, market_display_name } = markets;\n\n        market_result[market] = market_result[market] || [];\n        if (market_result[market].includes(market_display_name) === false) market_result[market].push(market_display_name);\n\n        return market_result;\n    }, {});\n};\n\nexport {\n    getMarketsSubmarkets,\n    getOrderedMarkets,\n};"]}